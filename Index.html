import react, { useState, useEffect } from 'react';
import { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { format } from 'date-fns';
import { id } from 'date-fns/locale';

// Simple UI Components Replacement
const Button = ({ children, variant = 'default', className = '', ...props }: any) => (
  <button className={`px-4 py-2 rounded-md font-medium transition-colors ${
    variant === 'default' ? 'bg-blue-600 text-white hover:bg-blue-700' :
    variant === 'outline' ? 'border border-gray-300 hover:bg-gray-100' :
    variant === 'secondary' ? 'bg-gray-100 hover:bg-gray-200' :
    'bg-blue-600 text-white hover:bg-blue-700'
  } ${className}`} {...props}>
    {children}
  </button>
);

const Input = ({ className = '', ...props }: any) => (
<input className={`px-3 py-2 border border-gray-300 rounded-md ${className}`} {...props} />
);

const Label = ({ children, className = '', ...props }: any) => (
  <label className={`block text-sm font-medium mb-1 ${className}`} {...props}>
    {children}
  </label>
);

const Card = ({ children, className = '', ...props }: any) => (
  <div className={`bg-white rounded-lg border border-gray-200 shadow-sm ${className}`} {...props}>
    {children}
  </div>
);

const CardHeader = ({ children, className = '' }: any) => (
  <div className={`p-6 ${className}`}>{children}</div>
);

const CardTitle = ({ children, className = '' }: any) => (
  <h3 className={`text-xl font-semibold ${className}`}>{children}</h3>
);

const CardDescription = ({ children, className = '' }: any) => (
  <p className={`text-gray-600 text-sm ${className}`}>{children}</p>
);
// Import komponen UI
import { Button } from "/components/ui/button";
import { Input } from "/components/ui/input";
import { Label } from "/components/ui/label";
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "/components/ui/card";

const CardContent = ({ children, className = '' }: any) => (
  <div className={`p-6 pt-0 ${className}`}>{children}</div>
);
// Komponen Autentikasi
const AuthModal = ({ isOpen, onClose, onLogin, onRegister }: { 
  isOpen: boolean; 
  onClose: () => void; 
  onLogin: (email: string, password: string) => void;
  onRegister: (email: string, username: string, password: string) => void;
}) => {
  const [isLogin, setIsLogin] = useState(true);
  const [email, setEmail] = useState('');
  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');

const CardFooter = ({ children, className = '' }: any) => (
  <div className={`p-6 pt-0 ${className}`}>{children}</div>
);
  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (isLogin) {
      onLogin(email, password);
    } else {
      onRegister(email, username, password);
    }
  };

  return (
    <AnimatePresence>
      {isOpen && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
          onClick={onClose}
        >
          <motion.div
            initial={{ scale: 0.9, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            exit={{ scale: 0.9, opacity: 0 }}
            className="bg-background rounded-lg p-6 w-full max-w-md"
            onClick={(e) => e.stopPropagation()}
          >
            <h2 className="text-2xl font-bold mb-6 text-foreground">
              {isLogin ? 'Masuk' : 'Daftar'}
            </h2>
            
            <form onSubmit={handleSubmit} className="space-y-4">
              <div>
                <Label htmlFor="email" className="text-foreground">Email</Label>
                <Input
                  id="email"
                  type="email"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  required
                  className="mt-1"
                />
              </div>
              
              {!isLogin && (
                <div>
                  <Label htmlFor="username" className="text-foreground">Username</Label>
                  <Input
                    id="username"
                    type="text"
                    value={username}
                    onChange={(e) => setUsername(e.target.value)}
                    required
                    className="mt-1"
                  />
                </div>
              )}
              
              <div>
                <Label htmlFor="password" className="text-foreground">Password</Label>
                <Input
                  id="password"
                  type="password"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  required
                  className="mt-1"
                />
              </div>

               <Button type="submit" className="w-full">
              <Button type="submit" className="w-full bg-primary text-primary-foreground">
                {isLogin ? 'Masuk' : 'Daftar'}
              </Button>
            </form>

             <p className="mt-4 text-center text-gray-600">
            <p className="mt-4 text-center text-muted-foreground">
              {isLogin ? 'Belum punya akun? ' : 'Sudah punya akun? '}
              <button
                onClick={() => setIsLogin(!isLogin)}
                className="text-blue-600 hover:underline"
                className="text-primary hover:underline"
              >
                {isLogin ? 'Daftar' : 'Masuk'}
              </button>
            </p>
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

// Komponen Konten Edukatif dengan Gambar
const ArticleCard = ({ 
  title, 
  category, 
  excerpt, 
  onBookmark, 
  isBookmarked,
  isPremium = false,
  image,
  onReadMore
}: {
  title: string;
  category: string;
  excerpt: string;
  onBookmark: () => void;
  isBookmarked: boolean;
  isPremium?: boolean;
  image: string;
  onReadMore: () => void;
}) => (
  <motion.div
    whileHover={{ y: -5 }}
    transition={{ duration: 0.2 }}
  >
    <Card className="h-full overflow-hidden border-2 border-blue-100 hover:border-blue-300 shadow-lg">
      <div className="relative">
        <img 
          src={image} 
          alt={`Ilustrasi pembelajaran ${title} dengan gaya kartun edukatif`}
          className="w-full h-48 object-cover transition-transform duration-300 hover:scale-105"
        />
        <button
          onClick={onBookmark}
          className="absolute top-3 right-3 bg-white p-2 rounded-full shadow-md hover:bg-blue-50 transition-colors"
        >
          {isBookmarked ? (
            <img 
              src="https://placeholder-image-service.onrender.com/image/24x24?prompt=Blue%20bookmark%20icon%20filled%20with%20math%20symbols%20and%20sparkles&id=math-bookmark-filled-enhanced-1" 
              alt="Bookmark icon filled with math symbols indicating saved article" 
              width={24}
              height={24}
            />
          ) : (
            <img 
              src="https://placeholder-image-service.onrender.com/image/24x24?prompt=Outline%20bookmark%20icon%20with%20plus%20sign%20and%20math%20symbols&id=math-bookmark-outline-enhanced-1" 
              alt="Outline bookmark icon with plus sign for saving math articles" 
              width={24}
              height={24}
            />
          )}
        </button>
        {isPremium && (
          <span className="absolute top-3 left-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-md">
            ⭐ Premium
          </span>
        )}
      </div>
      <CardHeader>
        <CardTitle className="text-foreground text-lg font-bold">{title}</CardTitle>
        <CardDescription className="text-blue-600 font-medium flex items-center gap-2">
          <img 
            src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Tiny%20category%20icon%20for%20math%20content&id=category-icon-1" 
            alt="Category icon" 
            width={16}
            height={16}
          />
          {category}
        </CardDescription>
      </CardHeader>
      <CardContent>
        <p className="text-foreground mb-4">{excerpt}</p>
        <div className="flex items-center text-sm text-muted-foreground">
          <img 
            src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Small%20journal%20icon%20with%20academic%20symbols&id=journal-icon-1" 
            alt="Journal reference" 
            width={16}
            height={16}
            className="mr-2"
          />
          Referensi jurnal terkait
        </div>
      </CardContent>
      <CardFooter>
        <Button 
          variant="outline" 
          className="w-full border-blue-300 text-blue-600 hover:bg-blue-50 font-semibold"
          onClick={onReadMore}
        >
          <img 
            src="https://placeholder-image-service.onrender.com/image/18x18?prompt=Read%20more%20icon%20with%20book%20symbol&id=read-more-icon-1" 
            alt="Read more" 
            width={18}
            height={18}
            className="mr-2"
          />
          Baca Selengkapnya
        </Button>
      </CardFooter>
    </Card>
  </motion.div>
);

// Komponen Game Kuis
const QuizGame = () => {
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [score, setScore] = useState(0);
  const [showScore, setShowScore] = useState(false);

  const questions = [
    {
      question: "Berapakah hasil dari 7 × 8?",
      options: ["54", "56", "58", "60"],
      correctAnswer: 1
    },
    {
      question: "Apa rumus luas segitiga?",
      options: ["½ × alas × tinggi", "panjang × lebar", "π × r²", "sisi × sisi"],
      correctAnswer: 0
    },
    {
      question: "Berapakah nilai dari sin(90°)?",
      options: ["0", "0.5", "1", "Tidak terdefinisi"],
      correctAnswer: 2
    }
  ];

  const handleAnswer = (selectedIndex: number) => {
    if (selectedIndex === questions[currentQuestion].correctAnswer) {
      setScore(score + 1);
    }

    const nextQuestion = currentQuestion + 1;
    if (nextQuestion < questions.length) {
      setCurrentQuestion(nextQuestion);
    } else {
      setShowScore(true);
    }
  };

  const restartQuiz = () => {
    setCurrentQuestion(0);
    setScore(0);
    setShowScore(false);
  };

  return (
    <Card className="bg-secondary">
      <CardHeader>
        <CardTitle className="text-foreground">Kuis Matematika</CardTitle>
        <CardDescription className="text-muted-foreground">
          Uji pengetahuan matematika Anda!
        </CardDescription>
      </CardHeader>
      <CardContent>
        {showScore ? (
          <div className="text-center">
            <h3 className="text-lg font-semibold text-foreground mb-4">
              Skor Anda: {score} dari {questions.length}
            </h3>
            <Button onClick={restartQuiz} className="bg-primary text-primary-foreground">
              Main Lagi
            </Button>
          </div>
        ) : (
          <div>
            <h3 className="text-lg font-semibold text-foreground mb-4">
              {questions[currentQuestion].question}
            </h3>
            <div className="space-y-2">
              {questions[currentQuestion].options.map((option, index) => (
                <Button
                  key={index}
                  variant="outline"
                  className="w-full justify-start text-foreground"
                  onClick={() => handleAnswer(index)}
                >
                  {option}
                </Button>
              ))}
            </div>
          </div>
        )}
      </CardContent>
    </Card>
  );
};

// Komponen Pembayaran QRIS
const PaymentModal = ({ 
  isOpen, 
  onClose, 
  onSuccess,
  planType 
}: { 
  isOpen: boolean; 
  onClose: () => void; 
  onSuccess: () => void;
  planType: 'monthly' | 'yearly';
}) => {
  const price = planType === 'monthly' ? 10000 : 50000;
  const period = planType === 'monthly' ? 'bulan' : 'tahun';

  return (
    <AnimatePresence>
      {isOpen && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
          onClick={onClose}
        >
          <motion.div
            initial={{ scale: 0.9, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            exit={{ scale: 0.9, opacity: 0 }}
            className="bg-background rounded-lg p-6 w-full max-w-md"
            onClick={(e) => e.stopPropagation()}
          >
            <h2 className="text-2xl font-bold mb-4 text-foreground">
              Langganan {planType === 'monthly' ? 'Bulanan' : 'Tahunan'}
            </h2>
            
            <div className="text-center mb-6">
              <p className="text-3xl font-bold text-primary">Rp{price.toLocaleString('id-ID')}</p>
              <p className="text-muted-foreground">per {period}</p>
            </div>

            <div className="bg-muted p-4 rounded-lg mb-6 text-center">
              <img 
                src="https://placeholder-image-service.onrender.com/image/200x200?prompt=QRIS%20payment%20code%20with%20Indonesian%20payment%20logos&id=qris-payment-1" 
                alt="QRIS payment code with Indonesian payment logos for digital transaction" 
                className="mx-auto mb-4"
                width={200}
                height={200}
              />
              <p className="text-sm text-muted-foreground">
                Scan QR code dengan aplikasi e-wallet atau mobile banking Anda
              </p>
            </div>

            <div className="space-y-3 mb-6">
              <div className="flex justify-between text-sm">
                <span className="text-muted-foreground">Metode Pembayaran</span>
                <span className="text-foreground">QRIS</span>
              </div>
              <div className="flex justify-between text-sm">
                <span className="text-muted-foreground">Total</span>
                <span className="text-foreground font-semibold">Rp{price.toLocaleString('id-ID')}</span>
              </div>
            </div>

            <div className="flex space-x-3">
              <Button variant="outline" className="flex-1" onClick={onClose}>
                Batal
              </Button>
              <Button className="flex-1 bg-primary text-primary-foreground" onClick={onSuccess}>
                Sudah Bayar
              </Button>
            </div>
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

// Komponen Utama
const TreadSkoola = () => {
  const [user, setUser] = useState<{ email: string; username: string; isPremium: boolean } | null>(null);
  const [showAuthModal, setShowAuthModal] = useState(false);
  const [showPaymentModal, setShowPaymentModal] = useState(false);
  const [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');
  const [darkMode, setDarkMode] = useState(false);
  const [activeTab, setActiveTab] = useState('home');
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [bookmarkedArticles, setBookmarkedArticles] = useState<number[]>([]);
  const [selectedArticle, setSelectedArticle] = useState<number | null>(null);

  // Data artikel pembelajaran matematika dengan gambar (minimal 10 per kategori)
  const articles = [
    // Matematika Dasar - Aljabar (10 artikel)
    {
      id: 1,
      title: "Petualangan Menyelesaikan Persamaan Aljabar",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Ikuti petualangan seru dalam memecahkan misteri persamaan linear dengan karakter kartun lucu...",
      fullContent: "Dalam pembelajaran aljabar dasar, kita akan menjelajahi konsep variabel, konstanta, dan koefisien...",
      journal: "Jurnal Penelitian Aljabar Dasar Vol. 12, No. 3",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Colorful%20cartoon%20characters%20solving%20algebra%20equations%20on%20chalkboard&id=algebra-fun-1"
    },
    {
      id: 2,
      title: "Misteri Bilangan dan Operasi Dasar",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Temukan rahasia di balik operasi penjumlahan, pengurangan, perkalian, dan pembagian...",
      fullContent: "Operasi dasar matematika adalah fondasi dari semua perhitungan matematika...",
      journal: "Jurnal Matematika Elementer Vol. 8, No. 2",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Cartoon%20numbers%20playing%20with%20basic%20operations&id=basic-math-1"
    },
    {
      id: 3,
      title: "Pola Bilangan: Kode Rahasia Matematika",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Belajar mengenali pola bilangan dan memecahkan teka-teki matematika yang menyenangkan...",
      fullContent: "Pola bilangan membantu kita memprediksi angka berikutnya dalam suatu urutan...",
      journal: "Jurnal Pola Matematika Vol. 5, No. 1",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Number%20patterns%20with%20colorful%20sequence%20and%20puzzles&id=number-patterns-1"
    },
    {
      id: 4,
      title: "Sistem Persamaan Linear Dua Variabel",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Teknik menyelesaikan sistem persamaan dengan metode grafik, substitusi, dan eliminasi...",
      fullContent: "Sistem persamaan linear dua variabel dapat diselesaikan dengan berbagai metode...",
      journal: "Jurnal Aljabar Linear Vol. 15, No. 4",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Graphical%20representation%20of%20linear%20equations%20with%20coordinates&id=linear-equations-1"
    },
    {
      id: 5,
      title: "Fungsi dan Relasi dalam Kehidupan Sehari-hari",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Bagaimana konsep fungsi dan relasi digunakan dalam kehidupan nyata dan teknologi...",
      fullContent: "Fungsi matematika menggambarkan hubungan antara input dan output...",
      journal: "Jurnal Matematika Terapan Vol. 7, No. 3",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Real-life%20applications%20of%20functions%20and%20relations&id=functions-real-1"
    },
    {
      id: 6,
      title: "Pertidaksamaan Linear dan Kuadrat",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Memahami konsep pertidaksamaan dan aplikasinya dalam pemecahan masalah...",
      fullContent: "Pertidaksamaan membantu kita membandingkan nilai dan mencari solusi yang memenuhi kondisi...",
      journal: "Jurnal Aljabar Modern Vol. 9, No. 2",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Inequality%20graphs%20and%20solution%20sets%20visualization&id=inequalities-1"
    },
    {
      id: 7,
      title: "Logaritma: Kekuatan Eksponen",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Menjelajahi dunia logaritma dan hubungannya dengan eksponen dalam perhitungan kompleks...",
      fullContent: "Logaritma adalah kebalikan dari operasi eksponensial dan memiliki banyak aplikasi...",
      journal: "Jurnal Matematika Komputasi Vol. 11, No. 1",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Logarithmic%20scales%20and%20exponential%20growth%20visualization&id=logarithms-1"
    },
    {
      id: 8,
      title: "Barisan dan Deret Aritmatika",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Belajar tentang barisan dan deret aritmatika dengan contoh-contoh menarik...",
      fullContent: "Barisan aritmatika memiliki selisih tetap antara suku-suku berurutan...",
      journal: "Jurnal Matematika Sekolah Vol. 6, No. 4",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Arithmetic%20sequences%20with%20step-by-step%20patterns&id=arithmetic-seq-1"
    },
    {
      id: 9,
      title: "Barisan dan Deret Geometri",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Menemukan keindahan pola geometri dalam matematika dan aplikasinya...",
      fullContent: "Barisan geometri memiliki rasio tetap antara suku-suku berurutan...",
      journal: "Jurnal Matematika Kreatif Vol. 8, No. 3",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Geometric%20patterns%20and%20growth%20visualization&id=geometric-seq-1"
    },
    {
      id: 10,
      title: "Pemfaktoran Aljabar: Mengurai Polinomial",
      category: "Matematika Dasar - Aljabar",
      excerpt: "Teknik memfaktorkan ekspresi aljabar untuk menyederhanakan perhitungan...",
      fullContent: "Pemfaktoran membantu menyederhanakan ekspresi aljabar yang kompleks...",
      journal: "Jurnal Aljabar Elementer Vol. 14, No. 2",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Algebraic%20factoring%20with%20step-by-step%20diagrams&id=factoring-1"
    },

    // Matematika Menengah - Trigonometri (10 artikel)
    {
      id: 11,
      title: "Trigonometri: Seni Mengukur Segitiga",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Temukan keajaiban sinus, cosinus, dan tangen melalui ilustrasi menarik dan contoh nyata...",
      fullContent: "Trigonometri mempelajari hubungan antara sudut dan sisi dalam segitiga...",
      journal: "Jurnal Trigonometri Modern Vol. 10, No. 1",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Fun%20illustration%20of%20trigonometry%20concepts%20with%20cute%20triangle%20characters&id=trig-fun-1"
    },
    {
      id: 12,
      title: "Identitas Trigonometri: Rumus Ajaib",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Menguasai identitas trigonometri penting untuk menyelesaikan persamaan kompleks...",
      fullContent: "Identitas trigonometri adalah persamaan yang benar untuk semua nilai variabel...",
      journal: "Jurnal Matematika Lanjut Vol. 12, No. 3",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Trigonometric%20identities%20with%20colorful%20formulas&id=trig-identities-1"
    },
    {
      id: 13,
      title: "Fungsi Trigonometri dalam Gelombang",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Bagaimana fungsi sinus dan cosinus digunakan dalam analisis gelombang dan getaran...",
      fullContent: "Fungsi trigonometri sangat penting dalam memodelkan fenomena periodik...",
      journal: "Jurnal Fisika Matematika Vol. 9, No. 2",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Wave%20functions%20and%20trigonometric%20graphs&id=wave-trig-1"
    },
    {
      id: 14,
      title: "Trigonometri dalam Navigasi",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Penerapan trigonometri dalam navigasi laut, udara, dan sistem GPS modern...",
      fullContent: "Sejak zaman kuno, trigonometri telah digunakan untuk navigasi...",
      journal: "Jurnal Navigasi Modern Vol. 7, No. 4",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Navigation%20tools%20with%20trigonometric%20calculations&id=navigation-trig-1"
    },
    {
      id: 15,
      title: "Persamaan Trigonometri: Menyelesaikan Misteri",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Teknik menyelesaikan berbagai jenis persamaan trigonometri dengan contoh praktis...",
      fullContent: "Persamaan trigonometri melibatkan fungsi trigonometri dan dapat diselesaikan...",
      journal: "Jurnal Matematika Praktis Vol. 11, No. 1",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Solving%20trigonometric%20equations%20step%20by%20step&id=trig-equations-1"
    },
    {
      id: 116,
      title: "Aplikasi Trigonometri dalam Arsitektur",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Bagaimana arsitek menggunakan trigonometri dalam merancang bangunan yang indah...",
      fullContent: "Trigonometri membantu arsitek menghitung sudut, ketinggian, dan struktur...",
      journal: "Jurnal Arsitektur Matematika Vol. 6, No. 3",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Architectural%20designs%20with%20trigonometric%20calculations&id=architecture-trig-1"
    },
    {
      id: 117,
      title: "Trigonometri Bola: Matematika Bumi",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Memahami trigonometri pada permukaan bola untuk aplikasi astronomi dan geografi...",
      fullContent: "Trigonometri bola mempelajari segitiga pada permukaan bola...",
      journal: "Jurnal Geomatika Vol. 8, No. 2",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Spherical%20trigonometry%20with%20earth%20and%20celestial%20sphere&id=spherical-trig-1"
    },
    {
      id: 118,
      title: "Deret Fourier: Analisis Frekuensi",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Teknik menggunakan trigonometri untuk menganalisis sinyal dan gelombang kompleks...",
      fullContent: "Deret Fourier menguraikan fungsi periodik menjadi komponen sinus dan cosinus...",
      journal: "Jurnal Analisis Sinyal Vol. 13, No. 1",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Fourier%20series%20and%20frequency%20analysis%20diagrams&id=fourier-trig-1"
    },
    {
      id: 119,
      title: "Trigonometri dalam Komputer Grafis",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Peran trigonometri dalam pembuatan animasi, game, dan efek visual komputer...",
      fullContent: "Komputer grafis menggunakan trigonometri untuk rotasi, transformasi, dan rendering...",
      journal: "Jurnal Komputasi Grafis Vol. 10, No. 4",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Computer%20graphics%20with%20trigonometric%20transformations&id=graphics-trig-1"
    },
    {
      id: 120,
      title: "Sejarah Perkembangan Trigonometri",
      category: "Matematika Menengah - Trigonometri",
      excerpt: "Perjalanan trigonometri dari masa Babylon kuno hingga matematika modern...",
      fullContent: "Trigonometri memiliki sejarah panjang yang dimulai dari peradaban kuno...",
      journal: "Jurnal Sejarah Matematika Vol. 9, No. 3",
      isPremium: false,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Historical%20development%20of%20trigonometry%20through%20ages&id=history-trig-1"
    },

    // Tambahkan kategori lainnya dengan pola yang sama...
    {
      id: 121,
      title: "Geometri Fraktal: Matematika Alam Semesta",
      category: "Matematika Lanjutan - Geometri",
      excerpt: "Jelajahi pola-pola indah dalam alam melalui matematika fraktal dengan visualisasi 3D yang memukau...",
      fullContent: "Geometri fraktal mempelajari pola yang mirip dengan diri sendiri pada berbagai skala...",
      journal: "Jurnal Geometri Modern Vol. 15, No. 2",
      isPremium: true,
      image: "https://placeholder-image-service.onrender.com/image/300x200?prompt=Beautiful%20fractal%20patterns%20with%20mathematical%20equations%20floating%20around&id=fractal-math-1"
    },
    // ... tambahkan lebih banyak artikel untuk kategori lainnya
  ];

  const categories = [
    'all', 'Matematika Dasar - Aljabar', 'Matematika Menengah - Trigonometri', 
    'Matematika Lanjutan - Geometri', 'Matematika Tinggi - Kalkulus', 
    'Matematika Terapan - Statistik', 'Sejarah Matematika', 'Jurnal Penelitian'
  ];

  const handleLogin = (email: string, password: string) => {
    // Simulasi login berhasil
    setUser({ email, username: email.split('@')[0], isPremium: false });
    setShowAuthModal(false);
  };

  const handleRegister = (email: string, username: string, password: string) => {
    // Simulasi registrasi berhasil
    setUser({ email, username, isPremium: false });
    setShowAuthModal(false);
  };

  const handleLogout = () => {
    setUser(null);
    setBookmarkedArticles([]);
  };

  const toggleBookmark = (articleId: number) => {
    if (bookmarkedArticles.includes(articleId)) {
      setBookmarkedArticles(bookmarkedArticles.filter(id => id !== articleId));
    } else {
      setBookmarkedArticles([...bookmarkedArticles, articleId]);
    }
  };

  const handlePremiumPurchase = (planType: 'monthly' | 'yearly') => {
    setSelectedPlan(planType);
    setShowPaymentModal(true);
  };

  const handlePaymentSuccess = () => {
    if (user) {
      setUser({ ...user, isPremium: true });
    }
    setShowPaymentModal(false);
  };

  const filteredArticles = articles.filter(article => {
    const matchesSearch = article.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                         article.category.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesCategory = selectedCategory === 'all' || article.category === selectedCategory;
    return matchesSearch && matchesCategory;
  });

  useEffect(() => {
    if (darkMode) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
  }, [darkMode]);

  return (
    <div className={`min-h-screen transition-colors duration-300 ${darkMode ? 'dark bg-gray-900 text-gray-100' : 'bg-background text-foreground'}`}>
      {/* Header */}
      <header className="bg-blue-600 text-white p-4">
        <div className="container mx-auto flex justify-between items-center">
          <div className="flex items-center gap-3">
            <img 
              src="https://placeholder-image-service.onrender.com/image/50x50?prompt=Cute%20blue%20owl%20with%20glasses%20reading%20math%20book%20on%20stack%20of%20books&id=skoola-logo-enhanced-1" 
              alt="Tread Skoola mascot - cute blue owl with glasses reading math book on stack of books" 
              width={50}
              height={50}
              className="rounded-full border-2 border-white"
            />
            <h1 className="text-2xl font-bold text-blue-100 drop-shadow-md">Tread Skoola</h1>
          </div>
          
          <div className="flex items-center space-x-4">
            {user ? (
              <>
                <div className="flex items-center gap-2">
                  <img 
                    src={userProfileImage}
                    alt={`Profile picture of ${user.username}`}
                    width={32}
                    height={32}
                    className="rounded-full border-2 border-white"
                  />
                  <span className="text-sm">Selamat datang, {user.username}! 🎓</span>
                </div>
                <Button variant="outline" size="sm" className="text-white border-white hover:bg-blue-500" onClick={handleLogout}>
                  Logout
                </Button>
              </>
            ) : (
              <Button variant="outline" size="sm" className="text-white border-white hover:bg-blue-500" onClick={() => setShowAuthModal(true)}>
                Login
              </Button>
            )}
            
            <button
              onClick={() => setDarkMode(!darkMode)}
              className="p-2 rounded-full hover:bg-blue-700 flex items-center justify-center"
            >
              {darkMode ? (
                <img 
                  src="https://placeholder-image-service.onrender.com/image/28x28?prompt=Bright%20sun%20with%20mathematical%20symbols%20glowing%20around%20it&id=sun-math-glow-1" 
                  alt="Bright sun with mathematical symbols for light mode" 
                  width={28}
                  height={28}
                />
              ) : (
                <img 
                  src="https://placeholder-image-service.onrender.com/image/28x28?prompt=Glowing%20moon%20with%20constellations%20and%20mathematical%20equations&id=moon-math-glow-1" 
                  alt="Glowing moon with constellations and math equations for dark mode" 
                  width={28}
                  height={28}
                />
              )}
            </button>
          </div>
        </div>
      </header>

      {/* Navigation */}
      <nav className="bg-blue-500 border-b border-blue-400">
        <div className="container mx-auto p-4">
          <div className="flex flex-wrap gap-4 justify-center">
            {['home', 'articles', 'categories', 'premium', 'profile'].map((tab) => (
              <button
                key={tab}
                onClick={() => setActiveTab(tab)}
                className={`px-4 py-2 rounded-full capitalize ${
                  activeTab === tab 
                    ? 'bg-primary text-primary-foreground' 
                    : 'text-foreground hover:bg-accent'
                }`}
              >
                {tab === 'home' ? 'Beranda' : 
                 tab === 'articles' ? 'Artikel' :
                 tab === 'categories' ? 'Kategori' :
                 tab === 'premium' ? 'Premium' : 'Profil'}
              </button>
            ))}
          </div>
        </div>
      </nav>

      {/* Main Content */}
      <main className="container mx-auto p-4">
        {/* Search and Filter */}
        <div className="mb-8 space-y-4">
          <div className="flex flex-col sm:flex-row gap-4">
            <Input
              placeholder="Cari artikel atau buku..."
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              className="flex-1"
            />
            <select
              value={selectedCategory}
              onChange={(e) => setSelectedCategory(e.target.value)}
              className="px-4 py-2 rounded-md border border-input bg-background"
            >
              {categories.map(category => (
                <option key={category} value={category}>
                  {category === 'all' ? 'Semua Kategori' : category}
                </option>
              ))}
            </select>
          </div>
        </div>

        {/* Content based on active tab */}
        {activeTab === 'home' && (
          <div className="space-y-8">
            <section>
              <h2 className="text-2xl font-bold mb-6 text-foreground">Materi Populer</h2>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {filteredArticles.slice(0, 3).map(article => (
                  <ArticleCard
                    key={article.id}
                    title={article.title}
                    category={article.category}
                    excerpt={article.excerpt}
                    isPremium={article.isPremium}
                    isBookmarked={bookmarkedArticles.includes(article.id)}
                    onBookmark={() => toggleBookmark(article.id)}
                    onReadMore={() => setSelectedArticle(article.id)}
                    image={article.image}
                  />
                ))}
              </div>
            </section>

            <section>
              <h2 className="text-2xl font-bold mb-6 text-foreground">Fakta Matematika Hari Ini</h2>
              <Card className="bg-blue-50 border-blue-200">
                <CardContent className="p-6 flex flex-col md:flex-row items-center gap-6">
                  <img 
                    src="https://placeholder-image-service.onrender.com/image/120x120?prompt=Cute%20math%20mascot%20holding%20a%20lightbulb%20with%20math%20symbols&id=math-fact-1" 
                    alt="Cute math mascot sharing interesting fact about prime numbers" 
                    width={120}
                    height={120}
                    className="flex-shrink-0"
                  />
                  <div>
                    <p className="text-lg text-foreground">
                      [FAKTA MATEMATIKA] Tahukah Anda? Bilangan prima terbesar yang diketahui memiliki lebih dari 24 juta digit!
                      Ditemukan pada tahun 2018, bilangan ini adalah 2^82,589,933 − 1 dan membutuhkan 9MB untuk menyimpannya!
                    </p>
                  </div>
                </CardContent>
              </Card>
            </section>

            <section>
              <h2 className="text-2xl font-bold mb-6 text-foreground">Jurnal Penelitian Terbaru</h2>
              <Card className="bg-gradient-to-r from-blue-100 to-indigo-100 border-blue-200">
                <CardHeader>
                  <CardTitle className="text-foreground">Penerapan Matematika dalam AI Modern</CardTitle>
                  <CardDescription className="text-blue-600">Jurnal Matematika Terapan Vol. 45, No. 3</CardDescription>
                </CardHeader>
                <CardContent>
                  <p className="text-foreground mb-4">
                    Penelitian terbaru menunjukkan bagaimana konsep aljabar linear dan kalkulus multivariabel 
                    menjadi dasar perkembangan kecerdasan buatan. Baca hasil penelitian lengkapnya...
                  </p>
                  <div className="flex items-center gap-4">
                    <img 
                      src="https://placeholder-image-service.onrender.com/image/80x80?prompt=Scientific%20journal%20cover%20with%20mathematical%20formulas%20and%20AI%20symbols&id=journal-cover-1" 
                      alt="Journal cover featuring mathematical formulas and AI concepts" 
                      width={80}
                      height={80}
                      className="rounded border"
                    />
                    <Button variant="outline" className="border-blue-300 text-blue-600">
                      Unduh Jurnal (PDF)
                    </Button>
                  </div>
                </CardContent>
              </Card>
            </section>
          </div>
        )}

        {activeTab === 'articles' && (
          <div>
            <h2 className="text-2xl font-bold mb-6 text-foreground">Semua Materi Pembelajaran</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {filteredArticles.map(article => (
                <ArticleCard
                  key={article.id}
                  title={article.title}
                  category={article.category}
                  excerpt={article.excerpt}
                  isPremium={article.isPremium}
                  isBookmarked={bookmarkedArticles.includes(article.id)}
                  onBookmark={() => toggleBookmark(article.id)}
                  onReadMore={() => setSelectedArticle(article.id)}
                  image={article.image}
                />
              ))}
            </div>
          </div>
        )}

        {activeTab === 'premium' && (
          <div className="space-y-8">
            {!user?.isPremium ? (
              <section>
                <h2 className="text-2xl font-bold mb-6 text-foreground">Upgrade ke Premium</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <Card className="text-center">
                    <CardHeader>
                      <CardTitle className="text-foreground">Paket Bulanan</CardTitle>
                      <CardDescription className="text-muted-foreground">
                        Cocok untuk mencoba fitur premium
                      </CardDescription>
                    </CardHeader>
                    <CardContent>
                      <p className="text-3xl font-bold text-primary">Rp10.000</p>
                      <p className="text-sm text-muted-foreground">per bulan</p>
                      <ul className="mt-4 space-y-3 text-sm text-foreground text-left">
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Gold%20star%20icon%20for%20premium%20access&id=premium-star-1" alt="Premium access" width={16} height={16} />
                          Akses 100+ artikel premium eksklusif
                        </li>
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Game%20controller%20icon%20for%20educational%20games&id=game-icon-1" alt="Educational games" width={16} height={16} />
                          Game edukasi interaktif dan kuis
                        </li>
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Discussion%20forum%20icon%20with%20speech%20bubbles&id=forum-icon-1" alt="Discussion forum" width={16} height={16} />
                          Forum diskusi dengan pakar matematika
                        </li>
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Summary%20icon%20with%20document%20and%20checkmark&id=summary-icon-1" alt="Auto summary" width={16} height={16} />
                          Ringkasan otomatis materi pelajaran
                        </li>
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Download%20icon%20for%20pdf%20resources&id=download-icon-1" alt="PDF resources" width={16} height={16} />
                          Unduh PDF materi dan soal latihan
                        </li>
                    </ul>
                    </CardContent>
                    <CardFooter>
                      <Button 
                className="w-full bg-blue-600 hover:bg-blue-700 text-white"
                onClick={() => handlePremiumPurchase('monthly')}
              >
                Berlangganan
              </Button>
                    </CardFooter>
                  </Card>

                  <Card className="text-center border-2 border-primary">
                    <CardHeader>
                      <CardTitle className="text-foreground">Paket Tahunan</CardTitle>
                      <CardDescription className="text-muted-foreground">
                        Hemat 58% dengan komitmen tahunan
                      </CardDescription>
                    </CardHeader>
                    <CardContent>
                      <p className="text-3xl font-bold text-primary">Rp50.000</p>
                      <p className="text-sm text-muted-foreground">per tahun</p>
                      <ul className="mt-4 space-y-3 text-sm text-foreground text-left">
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=All%20features%20checkmark%20icon&id=all-features-icon-1" alt="All features" width={16} height={16} />
                          Semua fitur paket bulanan plus bonus
                        </li>
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Discount%20tag%20icon%20with%20percentage&id=discount-icon-1" alt="Discount" width={16} height={16} />
                          Hemat 58% (Hanya Rp4.167/bulan)
                        </li>
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Priority%20support%20icon%20with%20VIP%20badge&id=priority-icon-1" alt="Priority support" width={16} height={16} />
                          Prioritas dukungan 24/7
                        </li>
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Exclusive%20content%20icon%20with%20crown&id=exclusive-icon-1" alt="Exclusive content" width={16} height={16} />
                          Konten eksklusif tahunan
                        </li>
                        <li className="flex items-center gap-2">
                          <img src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Certificate%20icon%20for%20achievement&id=certificate-icon-1" alt="Certificate" width={16} height={16} />
                          Sertifikat penyelesaian kursus
                        </li>
                    </ul>
                    </CardContent>
                    <CardFooter>
                      <Button 
                className="w-full bg-blue-600 hover:bg-blue-700 text-white"
                onClick={() => handlePremiumPurchase('yearly')}
              >
                Berlangganan
              </Button>
                    </CardFooter>
                  </Card>
                </div>
              </section>
            ) : (
              <section>
                <h2 className="text-2xl font-bold mb-6 text-foreground">Fitur Premium</h2>
                
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                  {/* Game Kuis */}
                  <div>
                    <h3 className="text-xl font-semibold mb-4 text-foreground">Game Edukasi</h3>
                    <QuizGame />
                  </div>

                  {/* Forum Diskusi */}
                  <div>
                    <h3 className="text-xl font-semibold mb-4 text-foreground">Forum Diskusi</h3>
                    <Card>
                      <CardHeader>
                        <CardTitle className="text-foreground">Diskusi Terbaru</CardTitle>
                      </CardHeader>
                      <CardContent>
                        <div className="space-y-4">
                          <div className="border-b border-border pb-4">
                            <h4 className="font-semibold text-foreground">Cara terbaik belajar kalkulus?</h4>
                            <p className="text-sm text-muted-foreground">15 komentar • 2 jam lalu</p>
                          </div>
                          <div className="border-b border-border pb-4">
                            <h4 className="font-semibold text-foreground">Tips memahami trigonometri</h4>
                            <p className="text-sm text-muted-foreground">8 komentar • 5 jam lalu</p>
                          </div>
                          <div>
                            <h4 className="font-semibold text-foreground">Referensi buku aljabar linear</h4>
                            <p className="text-sm text-muted-foreground">12 komentar • 1 hari lalu</p>
                          </div>
                        </div>
                      </CardContent>
                      <CardFooter>
                        <Button variant="outline" className="w-full">
                          Lihat Semua Diskusi
                        </Button>
                      </CardFooter>
                    </Card>
                  </div>
                </div>

                {/* Ringkasan Otomatis */}
                <section className="mt-8">
                  <h3 className="text-xl font-semibold mb-4 text-foreground">Ringkasan Otomatis</h3>
                  <Card>
                    <CardHeader>
                      <CardTitle className="text-foreground">Ringkasan "Pemahaman Dasar Aljabar"</CardTitle>
                    </CardHeader>
                    <CardContent>
                      <p className="text-foreground">
                        Aljabar adalah cabang matematika yang mempelajari struktur, hubungan, dan kuantitas.
                        Artikel ini membahas konsep dasar variabel, konstanta, koefisien, dan persamaan linear.
                        Variabel mewakili nilai yang tidak diketahui, sedangkan konstanta adalah nilai tetap.
                        Penyelesaian persamaan melibatkan isolasi variabel menggunakan operasi matematika.
                      </p>
                    </CardContent>
                  </Card>
                </section>
              </section>
            )}
          </div>
        )}

        {activeTab === 'profile' && user && (
          <div>
            <h2 className="text-2xl font-bold mb-6 text-foreground">Profil Pengguna</h2>
            <Card>
              <CardHeader>
                <CardTitle className="text-foreground">Informasi Profil</CardTitle>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="flex items-center justify-center mb-4">
                  <div className="relative">
                    <img 
                      src={userProfileImage}
                      alt={`Profile picture of ${user.username}`}
                      width={100}
                      height={100}
                      className="rounded-full border-4 border-blue-200"
                    />
                    <button className="absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700">
                      <img 
                        src="https://placeholder-image-service.onrender.com/image/16x16?prompt=Camera%20icon%20for%20profile%20photo%20upload&id=camera-icon-1" 
                        alt="Change profile photo" 
                        width={16}
                        height={16}
                      />
                    </button>
                  </div>
                </div>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <Label className="text-muted-foreground">Username</Label>
                    <p className="text-foreground font-semibold">{user.username}</p>
                  </div>
                  <div>
                    <Label className="text-muted-foreground">Email</Label>
                    <p className="text-foreground font-semibold">{user.email}</p>
                  </div>
                  <div>
                    <Label className="text-muted-foreground">Status Langganan</Label>
                    <p className="text-foreground">
                      {user.isPremium ? (
                        <span className="inline-flex items-center gap-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-3 py-1 rounded-full text-sm">
                          <img src="https://placeholder-image-service.onrender.com/image/14x14?prompt=Premium%20crown%20icon&id=premium-crown-1" alt="Premium" width={14} height={14} />
                          Premium Member
                        </span>
                      ) : (
                        <span className="inline-flex items-center gap-1 bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-sm">
                          <img src="https://placeholder-image-service.onrender.com/image/14x14?prompt=Free%20tier%20icon&id=free-icon-1" alt="Free" width={14} height={14} />
                          Akun Gratis
                        </span>
                      )}
                    </p>
                  </div>
                  <div>
                    <Label className="text-muted-foreground">Bergabung Sejak</Label>
                    <p className="text-foreground font-semibold">
                      {new Date().toLocaleDateString('id-ID', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                      })}
                    </p>
                  </div>
                </div>
                
                {!user.isPremium && (
                  <div className="bg-blue-50 p-4 rounded-lg mt-4">
                    <h4 className="font-semibold text-blue-800 mb-2">✨ Upgrade ke Premium!</h4>
                    <p className="text-blue-700 text-sm">
                      Dapatkan akses penuh ke semua fitur premium untuk pengalaman belajar yang lebih maksimal.
                    </p>
                    <Button 
                      className="mt-3 bg-blue-600 hover:bg-blue-700 text-white"
                      onClick={() => setActiveTab('premium')}
                    >
                      Lihat Paket Premium
                    </Button>
                  </div>
                )}
              </CardContent>
            </Card>

            {bookmarkedArticles.length > 0 && (
              <div className="mt-8">
                <h3 className="text-xl font-semibold mb-4 text-foreground">Artikel Tersimpan</h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {articles
                    .filter(article => bookmarkedArticles.includes(article.id))
                    .map(article => (
                      <ArticleCard
                        key={article.id}
                        title={article.title}
                        category={article.category}
                        excerpt={article.excerpt}
                        isPremium={article.isPremium}
                        isBookmarked={true}
                        onBookmark={() => toggleBookmark(article.id)}
                        onReadMore={() => setSelectedArticle(article.id)}
                        image={article.image}
                      />
                    ))}
                </div>
              </div>
            )}
          </div>
        )}
      </main>

      {/* Footer */}
      <footer className="bg-blue-600 text-white p-8 mt-12">
        <div className="container mx-auto">
          <div className="flex flex-col md:flex-row justify-between items-center">
            <div className="flex items-center gap-3 mb-4 md:mb-0">
              <img 
                src="https://placeholder-image-service.onrender.com/image/40x40?prompt=Tread%20Skoola%20logo%20with%20owl%20and%20math%20symbols&id=footer-logo-1" 
                alt="Tread Skoola footer logo" 
                width={40}
                height={40}
                className="rounded-full"
              />
              <h3 className="text-xl font-bold">Tread Skoola</h3>
            </div>
            <div className="flex gap-6">
              <a href="#" className="hover:text-blue-200 transition-colors">Tentang</a>
              <a href="#" className="hover:text-blue-200 transition-colors">Kontak</a>
              <a href="#" className="hover:text-blue-200 transition-colors">Privacy Policy</a>
            </div>
          </div>
          <div className="border-t border-blue-500 mt-6 pt-6 text-center">
            <p className="text-blue-200">
              &copy; {new Date().getFullYear()} Tread Skoola. Semua hak dilindungi.
            </p>
          </div>
        </div>
      </footer>

      {/* Modals */}
      <AuthModal
        isOpen={showAuthModal}
        onClose={() => setShowAuthModal(false)}
        onLogin={handleLogin}
        onRegister={handleRegister}
      />

      <PaymentModal
        isOpen={showPaymentModal}
        onClose={() => setShowPaymentModal(false)}
        onSuccess={handlePaymentSuccess}
        planType={selectedPlan}
      />

      {/* Modal Baca Selengkapnya */}
      <AnimatePresence>
        {selectedArticle !== null && (
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
            onClick={() => setSelectedArticle(null)}
          >
            <motion.div
              initial={{ scale: 0.9, opacity: 0 }}
              animate={{ scale: 1, opacity: 1 }}
              exit={{ scale: 0.9, opacity: 0 }}
              className="bg-background rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto"
              onClick={(e) => e.stopPropagation()}
            >
              {(() => {
                const article = articles.find(a => a.id === selectedArticle);
                if (!article) return null;
                
                return (
                  <>
                    <div className="flex justify-between items-start mb-6">
                      <h2 className="text-3xl font-bold text-foreground">{article.title}</h2>
                      <button
                        onClick={() => setSelectedArticle(null)}
                        className="text-muted-foreground hover:text-foreground"
                      >
                        <img 
                          src="https://placeholder-image-service.onrender.com/image/24x24?prompt=Close%20icon%20with%20X%20symbol&id=close-icon-1" 
                          alt="Close modal" 
                          width={24}
                          height={24}
                        />
                      </button>
                    </div>
                    
                    <div className="relative mb-6">
                      <img 
                        src={article.image} 
                        alt={`Detail ilustrasi ${article.title}`}
                        className="w-full h 64 object-cover rounded-lg"
                      />
                      <div className="absolute bottom-4 left-4 bg-background bg-opacity-80 px-3 py-1 rounded-full">
                        <span className="text-sm font-medium text-foreground">{article.category}</span>
                      </div>
                    </div>
                    
                    <div className="prose prose-lg max-w-none">
                      <p className="text-foreground text-lg leading-relaxed mb-6">
                        {article.fullContent || "Konten lengkap sedang dalam pengembangan..."}
                      </p>
                      
                      {article.journal && (
                        <div className="bg-blue-50 p-4 rounded-lg mb-6">
                          <h4 className="font-semibold text-foreground mb-2">📚 Jurnal Referensi:</h4>
                          <p className="text-foreground">{article.journal}</p>
                          <button className="mt-2 text-blue-600 hover:text-blue-800 text-sm">
                            Akses Jurnal Lengkap →
                          </button>
                        </div>
                      )}
                      
                      <div className="bg-gray-50 p-4 rounded-lg">
                        <h4 className="font-semibold text-foreground mb-2">💡 Tips Belajar:</h4>
                        <ul className="list-disc list-inside text-foreground space-y-1">
                          <li>Baca materi secara perlahan dan pahami konsep dasar</li>
                          <li>Kerjakan latihan soal untuk menguji pemahaman</li>
                          <li>Diskusikan dengan teman atau guru jika mengalami kesulitan</li>
                          <li>Gunakan visualisasi untuk memahami konsep abstrak</li>
                        </ul>
                      </div>
                    </div>
                    
                    <div className="mt-8 flex gap-4">
                      <Button 
                        variant="outline" 
                        onClick={() => toggleBookmark(article.id)}
                        className="flex items-center gap-2"
                      >
                        {bookmarkedArticles.includes(article.id) ? (
                          <>
                            <img 
                              src="https://placeholder-image-service.onrender.com/image/18x18?prompt=Bookmark%20remove%20icon&id=bookmark-remove-1" 
                              alt="Remove bookmark" 
                              width={18}
                              height={18}
                            />
                            Hapus Bookmark
                          </>
                        ) : (
                          <>
                            <img 
                              src="https://placeholder-image-service.onrender.com/image/18x18?prompt=Bookmark%20add%20icon&id=bookmark-add-1" 
                              alt="Add bookmark" 
                              width={18}
                              height={18}
                            />
                            Simpan Bookmark
                          </>
                        )}
                      </Button>
                      <Button className="bg-primary text-primary-foreground">
                        Kerjakan Latihan Soal
                      </Button>
                    </div>
                  </>
                );
              })()}
            </motion.div>
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  );
};

export default TreadSkoola;
